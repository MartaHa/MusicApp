<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h3>List of Songs</h3>

<div>
    <a th:href="@{/song/add}">Add a song</a>
</div>
<div class="card-body">
    <div class="table-responsive">
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <tr>

                <th>Title</th>
                <th>Category</th>
                <th>Author</th>
                <th>Album</th>
                <th>Lyrics</th>
                <th>Rating</th>
                <th>DETAILS</th>
                <th>UPDATE</th>
                <th>DELETE</th>
            </tr>
            <tr th:each="song: ${songs}">
                <td th:text="${song.title}"/>
                <td>
                            <span th:each="category: ${song.category}">
                                <b th:text="${category.name}"/>
                            </span>
                </td>
                <td>
                            <span th:each="author: ${song.author}">
                                <b th:text="${author.fullName}"/>
                            </span>
                </td>
                <td>
                            <span th:each="album: ${song.album}">
                                <b th:text="${album.title}"/>
                            </span>
                </td>
                <td>
                <span th:each="lyric: ${song.lyrics}">
                <b th:text="${lyrics.songText}"/>
                </span>
                <!--</td>-->
                <td>
                <td th:text="${song.rating}"/>
                </td>
                <td><a th:href="@{/song/showOne/{id}/(id=${song.id})}"> SHOWDETAILS </a></td>
                <td><a th:href="@{/song/update/{id}/(id=${song.id})}">EDIT</a></td>
                <td><a th:href="@{/song/delete/{id}/(id=${song.id})}">DELETE</a></td>

                </td>
            </tr>
        </table>
    </div>
</div>
</tr>
</table>

<p sec:authorize="hasRole('ROLE_ADMIN')">
    <p> Back o Main<a th:href="@{/welcomeAd}"> Main </a>
    </p>
</p>
<p sec:authorize="hasRole('USER')">
    <p> Back o Main<a th:href="@{/welcome}"> Main </a>
    </p>
</p>
</body>
</html>